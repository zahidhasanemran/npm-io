(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[7],{Ji7U:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("s4An");function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},OEek:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return v})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"a",(function(){return m}));var r=n("o0o1"),a=n.n(r),c=n("Ji7U"),o=n("s4An"),u=n("HaE+"),i=n("oczZ"),s=n("vcXL"),f=n.n(s);function l(){l=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,a){var c=new RegExp(e,r);return t.set(c,a||t.get(e)),Object(o.a)(c,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return Object(c.a)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=r(n,this)),n},n.prototype[Symbol.replace]=function(n,a){if("string"==typeof a){var c=t.get(this);return e[Symbol.replace].call(this,n,a.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+c[t]})))}if("function"==typeof a){var o=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(r(e,o)),a.apply(this,e)}))}return e[Symbol.replace].call(this,n,a)},l.apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=Object(u.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()("".concat(i.apiUrl).concat(t));case 2:if((n=e.sent).ok||404===n.status){e.next=5;break}throw new Error("Bad response from server (http: ".concat(n.status,")."));case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){var t=e.toLocaleString();return"0"===t?0:t}function v(e){var t={repoUrl:null,repoType:null},n=l(/^(((gitlab|git|git\+ssh)(:|@|\+|\/\/))|(https:\/\/))(\/\/|https:\/\/|http:\/\/|git:\/\/)*([\x2D_a-z]+@)*((github|gitlab|bitbucket).+)/,{pre:1,proto:6,usr:7,url:8,type:9}).exec(e);if(!n)return t;var r=n.groups.url.replace(":","/").replace(".git","");return t.repoUrl="https://".concat(r),t.repoType=n.groups.type,t}function b(e){return e&&e.length?e.length>17?"".concat(e.substr(0,17),"..."):e:null}function g(e){var t=new Date(e),n=new Date-t;if(n<36e5){var r=Math.round(n/6e4)||1,a=1===r?"":"s";return"".concat(r," minute").concat(a," ago")}if(n<864e5){var c=Math.round(n/36e5),o=1===c?"":"s";return"".concat(c," hour").concat(o," ago")}if(n<2592e6){var u=Math.round(n/864e5),i=1===u?"":"s";return"".concat(u," day").concat(i," ago")}if(n<31536e6){var s=Math.round(n/2592e6),f=1===s?"":"s";return"".concat(s," month").concat(f," ago")}var l=Math.round(n/31536e6),p=1===l?"":"s";return"".concat(l," year").concat(p," ago")}function m(e){return e.charAt(0).toUpperCase()+e.slice(1)}},YFqc:function(e,t,n){e.exports=n("cTJO")},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},cTJO:function(e,t,n){"use strict";var r=n("zoAU"),a=n("7KCV");t.__esModule=!0,t.default=void 0;var c,o=a(n("q1tI")),u=n("elyg"),i=n("nOHt"),s=new Map,f=window.IntersectionObserver,l={},p=function(e,t){var n=c||(f?c=new f((function(e){e.forEach((function(e){if(s.has(e.target)){var t=s.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(c.unobserve(e.target),s.delete(e.target),t())}}))}),{rootMargin:"200px"}):void 0);return n?(n.observe(e),s.set(e,t),function(){try{n.unobserve(e)}catch(e){console.error(e)}s.delete(e)}):function(){}};function h(e,t,n,r){(0,u.isLocalURL)(t)&&(e.prefetch(t,n,r).catch((function(e){})),l[t+"%"+n]=!0)}t.default=function(e){var t=!1!==e.prefetch,n=o.default.useState(),a=r(n,2),c=a[0],s=a[1],d=(0,i.useRouter)(),v=d&&d.pathname||"/",b=o.default.useMemo((function(){var t=(0,u.resolveHref)(v,e.href,!0),n=r(t,2),a=n[0],c=n[1];return{href:a,as:e.as?(0,u.resolveHref)(v,e.as):c||a}}),[v,e.href,e.as]),g=b.href,m=b.as;o.default.useEffect((function(){if(t&&f&&c&&c.tagName&&(0,u.isLocalURL)(g)&&!l[g+"%"+m])return p(c,(function(){h(d,g,m)}))}),[t,c,g,m,d]);var y=e.children,w=e.replace,O=e.shallow,k=e.scroll;"string"==typeof y&&(y=o.default.createElement("a",null,y));var j=o.Children.only(y),E={ref:function(e){e&&s(e),j&&"object"==typeof j&&j.ref&&("function"==typeof j.ref?j.ref(e):"object"==typeof j.ref&&(j.ref.current=e))},onClick:function(e){j.props&&"function"==typeof j.props.onClick&&j.props.onClick(e),e.defaultPrevented||function(e,t,n,r,a,c,o){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,u.isLocalURL)(n))&&(e.preventDefault(),null==o&&(o=r.indexOf("#")<0),t[a?"replace":"push"](n,r,{shallow:c}).then((function(e){e&&o&&(window.scrollTo(0,0),document.body.focus())})))}(e,d,g,m,w,O,k)}};return t&&(E.onMouseEnter=function(e){(0,u.isLocalURL)(g)&&(j.props&&"function"==typeof j.props.onMouseEnter&&j.props.onMouseEnter(e),h(d,g,m,{priority:!0}))}),(e.passHref||"a"===j.type&&!("href"in j.props))&&(E.href=(0,u.addBasePath)((0,u.addLocale)(m,d&&d.locale,d&&d.defaultLocale))),o.default.cloneElement(j,E)}},s4An:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},ssVd:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n("o0o1"),a=n.n(r),c=n("HaE+"),o=n("OEek");function u(e){return i.apply(this,arguments)}function i(){return(i=Object(c.a)(a.a.mark((function e(t){var n,r,c,u,i,s,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.query,r=void 0===n?"":n,c=t.page,u=t.perPage,i=parseInt(c,10)||1,s=parseInt(u,10)||20,(r=encodeURIComponent(r.replace(/\+/g," "))).length){e.next=6;break}return e.abrupt("return",{result:{list:[]}});case 6:return e.next=8,Object(o.b)("/search?query=".concat(r,"&page=").concat(i,"&per_page=").concat(s));case 8:return(f=e.sent).searchQuery=r,e.abrupt("return",{result:f});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.b)("/package/".concat(t));case 2:return n=e.sent,e.abrupt("return",{details:n,path:t});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){var t=e.split("/"),n=t.map((function(e,t){return"[package".concat(t+1,"]")})).join("/"),r=t.map((function(e){return"".concat(e)})).join("/");return{linkHref:"/package/".concat(n),linkAs:"/package/".concat(r)}}},uVmD:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("o0o1"),a=n.n(r),c=n("HaE+"),o=n("q1tI"),u=n.n(o),i=n("nOHt"),s=n.n(i),f=n("LvDl"),l=n("YFqc"),p=n.n(l),h=n("ssVd"),d=u.a.createElement,v=function(e){var t=e.results,n=void 0===t?[]:t,r=e.activeElement,a=void 0===r?0:r,c=e.isLoading,o=void 0!==c&&c,u=n.length?"":" autocomplete__container--hidden";return o?d("div",{className:"autocomplete__container"},d("div",{className:"autocomplete__element"},d("article",null,d("p",null,"...")))):d("div",{className:"autocomplete__container".concat(u)},n.map((function(e,t){var n=Object(h.b)(e.name),r=n.linkHref,c=n.linkAs,o=a===t?" autocomplete__element--active":"";return d(p.a,{key:t,href:r,as:c},d("a",{className:"autocomplete__element".concat(o),tabIndex:"-1"},d("article",null,d("span",null,e.name),d("p",null,e.description))))})))},b=u.a.createElement;function g(){var e=Object(i.useRouter)(),t=Object(o.useRef)(),n=Object(o.useRef)(),r=Object(o.useState)([]),u=r[0],l=r[1],p=Object(o.useState)(-1),d=p[0],g=p[1],m=Object(o.useState)(),y=m[0],w=m[1],O=Object(o.useState)(!1),k=O[0],j=O[1],E=Object(o.useState)([]),x=E[0],_=E[1],L=u?u.length:0,S=function(){var t=encodeURIComponent(n.current.value.trim());t.length>0&&e.push("/search/[query]","/search/".concat(t))},R=Object(f.debounce)(function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.c)({query:t,perPage:4});case 2:n=e.sent,r=n.result,l(r.list),g(-1),j(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),300),U=function(){g(-1),l([])};return Object(o.useEffect)((function(){n.current&&n.current.focus();var e=function(){U()};return s.a.events.on("routeChangeStart",e),function(){s.a.events.off("routeChangeStart",e)}})),Object(o.useEffect)((function(){if(u.length){var e=function(e){t.current.contains(e.target)||U()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}return function(){}})),b("div",{ref:t},b("input",{id:"search-input",ref:n,className:"search__input",type:"input",placeholder:"Search package",onChange:function(e){return t=e.target.value,j(!0),R(t),_(x.concat([R])),void x.forEach((function(e){return e.cancel()}));var t},onKeyDown:function(t){switch(t.key){case"Enter":-1===d?S():function(){var t=Object(h.b)(y),n=t.linkHref,r=t.linkAs;e.push(n,r)}();break;case"Escape":U();break;case"ArrowDown":t.preventDefault(),function(){var e=d+1;e<L&&(g(e),u[e]&&w(u[e].name))}();break;case"ArrowUp":t.preventDefault(),function(){var e=d-1;d>-1&&(g(e),u[e]&&w(u[e].name))}()}},autoComplete:"off",maxLength:"50"}),b("label",{htmlFor:"search-input",className:"btn",id:"search-submit","aria-label":"Search package",onClick:S},b("span",{className:"icon"})),b(v,{results:u,activeElement:d,isLoading:k}))}},vcXL:function(e,t,n){"use strict";var r=self.fetch.bind(self);e.exports=r,e.exports.default=e.exports}}]);